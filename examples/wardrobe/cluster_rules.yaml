name: "wardrobe_cluster_rules_v1"
version: "1.0.0"
description: "Rules defining what makes a complete wardrobe outfit"
schema_ref: "wardrobe_v1"
pairwise_ruleset_ref: "wardrobe_rules_v1"

rules:
  # REQUIREMENT RULES - What a valid outfit must have

  - name: "minimum_outfit_size"
    type: "requirement"
    enabled: true
    description: "An outfit must have at least 2 items"
    condition:
      min_cluster_size: 2

  - name: "cover_multiple_zones"
    type: "requirement"
    enabled: true
    description: "Must cover at least 2 different body zones"
    condition:
      count_by_field:
        field: "body_zone"
        min: 2

  - name: "formality_consistency"
    type: "requirement"
    enabled: true
    description: "All items must be within 1 formality level of each other"
    condition:
      formality_range:
        max_diff: 1

  # EXCLUSION RULES - What makes a set invalid as an outfit

  - name: "max_outfit_size"
    type: "exclusion"
    enabled: true
    description: "An outfit can't have more than 10 items (too complex)"
    condition:
      not:
        max_cluster_size: 10
